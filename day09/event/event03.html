<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>í´ë¦­ ì´ë²¤íŠ¸</title>
  <style>
    input:focus {
      outline: none;
    }
  </style>
</head>
<body>
  <!-- ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ì˜ ìœ íš¨ì„± ê²€ì‚¬ -->
  <form action="#ì œì¶œì™„ë£Œ">
    <div>
      <label>
        <span>ì•„ì´ë””</span>
        <input type="text" name="id" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”" />
        <p id="id-result"></p>
      </label>
    </div>
    <div>
      <label>
        <span>ë¹„ë°€ë²ˆí˜¸</span>
        <input type="password" name="password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"/>
        <p id="password-result"></p>
      </label>
    </div>
    <button type="button">ë¡œê·¸ì¸</button>
  </form>
</body>
<script>
  const form = document.querySelector("form")
  const id = document.querySelector("input[name='id']");
  const password = document.querySelector("input[name='password']");
  const button = document.querySelector("button[type='button']");
  const idResult = document.querySelector("#id-result");
  const passwordResult = document.querySelector("#password-result");
  // ì „ì—­ë³€ìˆ˜ 
  globalThis.flag = new Array(false, false)

  // focus, blurë¥¼ ì‚¬ìš©í•˜ì—¬ ìœ íš¨ì„± ê²€ì‚¬ 
  // focusê°€ ë˜ë©´ inputì˜ borderì˜ ìƒ‰ìƒì„ ë³€ê²½ + @
  // blurê°€ ë˜ë©´ inputì˜ border ìƒ‰ìƒì„ ì‚­ì œ + @
  id.addEventListener("focus", (e) => {
    e.target.style.border = '1px solid #00c4c4'
  })

  id.addEventListener("blur", (e) => {
    let value = e.target.value
    e.target.style.border = '1px solid rgb(118, 118, 118)'
    if(!value){
      idResult.innerText = "ì•„ì´ë””ê°€ ì—†ìŠµë‹ˆë‹¤.ğŸ˜¥";
      idResult.style.color = "red";
      idResult.style.fontSize = "12px";
      globalThis.flag[0] = false
      return
    }

    idResult.innerText = "ë©‹ì§„ ì•„ì´ë””ë„¤ìš”!";
    idResult.style.color = "blue";
    globalThis.flag[0] = true
  })

  password.addEventListener("focus", (e) => {
    e.target.style.border = '1px solid #00c4c4'
  })

  password.addEventListener("blur", (e) => {
    let value = e.target.value
    e.target.style.border = '1px solid rgb(118, 118, 118)'
    if(!value){
      passwordResult.innerText = "ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.";
      passwordResult.style.color = "red";
      passwordResult.style.fontSize = "12px";
      globalThis.flag[1] = false
      return
    }

    passwordResult.innerText = "ê²€ì¦ ì™„ë£Œ!";
    passwordResult.style.color = "blue";
    globalThis.flag[1] = true
  })

  button.addEventListener("click", (e) => {
    // ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ê°€ ëª¨ë‘ ê²€ì¦ë˜ì—ˆëŠ”ì§€
    if(globalThis.flag.filter((check) => check).length != 2){
      alert("ì •í™•íˆ ì…ë ¥í•˜ì„¸ìš”");
      return;
    }
    
    form.submit()
  })

</script>
</html>
